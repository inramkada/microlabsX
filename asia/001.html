<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MICRORETAILX | GLOBAL TERMS [MRX-TOU-2025]</title>
  <style>
    /* --- BASE RESET & UNIVERSAL FONTS --- */
    html, body{
      margin:0; padding:0; background:#000;
      overflow:hidden;
      font-family: ui-monospace, SFMono-Regular, "SF Mono", "Segoe UI Mono", "Roboto Mono", 
                   "Microsoft YaHei", "Hiragino Sans GB", "Noto Sans SC", 
                   "Nirmala UI", "Mangal", "Lohit Devanagari", 
                   "Tahoma", "Arial", 
                   monospace;
    }

    /* --- CANVAS & ANIMATION --- */
    canvas{ display:block; transition: filter 1.2s ease-in-out, opacity 1.2s ease-in-out; }
    body.consent-locked canvas{ filter: grayscale(1) brightness(0.72) contrast(1.08); opacity: 0.85; }
    body.consent-waking canvas{ filter: grayscale(0) brightness(1) contrast(1); opacity: 1; }

    /* --- UI LAYER & FOOTER --- */
    .ui-layer{ position:absolute; z-index:10; color:#fff; user-select:none; }
    .footer-bar{
      bottom:0; left:0; width:100%; background: rgba(0,0,0,.92);
      display:flex; flex-direction:column; align-items:center;
      padding:10px 0 8px; box-sizing:border-box; pointer-events:none;
    }
    .footer-links{ font-size:15px; pointer-events:auto; margin-bottom:6px; display:flex; flex-wrap:wrap; justify-content:center; gap: 16px;}
    .footer-links a{ color:#fff; text-decoration:none; opacity:.85; cursor:pointer; }
    .footer-links a:hover{ opacity:1; text-decoration:underline; }
    .copyright{ font-size:9px; letter-spacing:1px; opacity:.45; pointer-events:auto; text-align:center; padding:0 14px; line-height:1.35; }

    /* --- CONSENT BANNER & MODAL --- */
    .consent-banner{
      position:fixed; left:0; right:0; bottom:0; z-index:9999;
      background: rgba(0,0,0,.92); border-top:1px solid rgba(255,255,255,.15);
      box-shadow: 0 -10px 34px rgba(0,0,0,.65); backdrop-filter: blur(10px);
      padding:14px 18px; box-sizing:border-box; display:none;
    }
    .consent-banner.open{ display:block; }
    .consent-row{ display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .consent-text{ color:#e8ffff; opacity:.92; font-size:13px; line-height:1.4; max-width:860px; }
    .consent-text a{ color:#fff; text-decoration:none; opacity:.95; text-shadow:0 0 10px rgba(255,255,255,.35); }
    .consent-text a:hover{ text-decoration:underline; opacity:1; }
    .consent-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .consent-btn{
      appearance:none; border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.06); color:#fff;
      padding:9px 12px; border-radius:10px; cursor:pointer;
      font-family: inherit; letter-spacing:.5px; font-size:12px; opacity:.95;
    }
    .consent-btn:hover{ opacity:1; box-shadow:0 0 18px rgba(255,255,255,.12); }
    .consent-btn.primary{
      border-color: rgba(255,255,255,.42); background: rgba(255,255,255,.12);
      box-shadow:0 0 22px rgba(255,255,255,.18);
    }
    
    .consent-modal-backdrop{
      position:fixed; inset:0; z-index:10000;
      background: rgba(0,0,0,.74); display:none; align-items:center; justify-content:center;
      padding:18px; box-sizing:border-box;
    }
    .consent-modal-backdrop.open{ display:flex; }
    .consent-modal{
      width:min(720px,100%); border-radius:16px;
      background: rgba(0,8,18,.94); border:1px solid rgba(255,255,255,.22);
      box-shadow: 0 0 40px rgba(255,255,255,.10); backdrop-filter: blur(14px); overflow:hidden;
    }
    .consent-modal-header{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.12);
    }
    .consent-modal-title{ font-size:13px; letter-spacing:1px; color:#fff; opacity:.95; }
    .consent-modal-close{
      width:30px; height:30px; border-radius:10px;
      border:1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.06);
      color:#fff; cursor:pointer; font-family: inherit; font-size:14px; opacity:.9;
    }
    .consent-modal-close:hover{ opacity:1; }
    .consent-modal-body{ padding:14px 16px 8px; color:#e8ffff; font-size:13px; line-height:1.45; opacity:.93; }
    .consent-cats{ display:grid; gap:10px; margin-top:10px; }
    .consent-cat{
      display:flex; gap:12px; align-items:flex-start; justify-content:space-between;
      padding:10px 12px; border:1px solid rgba(255,255,255,.10);
      border-radius:14px; background: rgba(255,255,255,.03);
    }
    .consent-cat strong{ display:block; font-size:12px; letter-spacing:.7px; color:#fff; opacity:.95; margin-bottom:4px; }
    .consent-cat p{ margin:0; font-size:12px; opacity:.86; max-width:520px; }
    .toggle{
      position:relative; width:44px; height:24px; flex:0 0 auto;
      border-radius:24px; border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.07); cursor:pointer; margin-top:2px;
    }
    .toggle::after{
      content:""; position:absolute; top:2px; left:2px;
      width:18px; height:18px; border-radius:50%;
      background: rgba(255,255,255,.92); transition: transform .18s ease;
    }
    .toggle.on{ border-color: rgba(255,255,255,.35); background: rgba(255,255,255,.14); box-shadow:0 0 18px rgba(255,255,255,.10); }
    .toggle.on::after{ transform: translateX(20px); }
    .toggle.locked{ opacity:.6; cursor:not-allowed; }
    .consent-modal-footer{
      display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
      padding:12px 16px 14px; border-top:1px solid rgba(255,255,255,.12);
    }

    /* --- HARD LOCK --- */
    body.consent-locked .ui-layer{ pointer-events:none !important; }
    body.consent-locked #consentBanner, body.consent-locked #consentModalBackdrop{ pointer-events:auto !important; }
    body.consent-locked .terms-wrap, body.consent-locked #toBottom, body.consent-locked #backToTop { pointer-events:none !important; }
    body.consent-locked .consent-banner{
      left:50%; right:auto; bottom:auto; top:50%; transform: translate(-50%,-50%);
      width: min(920px, calc(100% - 36px)); border-radius:18px;
      border:1px solid rgba(255,255,255,.24);
      box-shadow: 0 0 40px rgba(255,255,255,.10), 0 0 100px rgba(255,255,255,.04);
    }
    @keyframes execPulse{
      0%{ box-shadow: 0 0 38px rgba(255,255,255,.08), 0 0 90px rgba(255,255,255,.03); }
      100%{ box-shadow: 0 0 46px rgba(255,255,255,.14), 0 0 120px rgba(255,255,255,.05); }
    }
    body.consent-locked .consent-banner.open{ animation: execPulse 1.2s ease-in-out infinite alternate; }

    /* --- MAIN LAYOUT --- */
    .terms-wrap{
      position:absolute; inset:0; z-index:9;
      display:flex; align-items:center; justify-content:center;
      padding:84px 18px 110px; box-sizing:border-box;
    }
    .terms-panel{
      width:min(980px, 100%);
      max-height: calc(var(--vh, 1vh) * 100 - 220px);
      overflow:hidden;
      scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.22) rgba(0,0,0,0); -ms-overflow-style: none;
      background: rgba(0,8,18,.90); border: 1px solid rgba(0,234,255,.247);
      position: relative;
      box-shadow: 0 0 34px rgba(0,234,255,.143), 0 0 var(--beamSpread, 0px) rgba(0,234,255, calc(var(--beamA, 0) * 0.585));
      backdrop-filter: blur(12px); border-radius: 14px;
      padding: 0; color:#fff; user-select:text;
      display:flex; flex-direction:column;
    }
    .terms-panel::before{
      content:""; position:absolute; inset:-10px; border-radius: 18px; pointer-events:none;
      opacity: var(--beamA, 0); filter: blur(18px); mix-blend-mode: screen;
      background: radial-gradient(120% 90% at 50% 40%, rgba(0,234,255,.143), rgba(0,234,255,0) 65%),
                  linear-gradient(90deg, rgba(0,234,255,0), rgba(0,234,255,.104), rgba(0,234,255,0));
      transition: opacity 140ms ease;
    }
    .terms-panel::-webkit-scrollbar{ width: 10px; }
    
    .terms-scroll{
      flex:1 1 auto; overflow:auto; -webkit-overflow-scrolling: touch;
      scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.22) rgba(0,0,0,0); -ms-overflow-style: none;
      padding: 14px 16px 90px; box-sizing:border-box;
      scroll-padding-top: 140px; scroll-padding-bottom: 90px;
    }
    .terms-scroll::-webkit-scrollbar-track{ background: transparent; }
    .terms-scroll::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,.18); border-radius: 999px;
      border: 2px solid rgba(0,0,0,0); background-clip: padding-box;
    }
    .terms-scroll::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.28); }
    .terms-scroll::-webkit-scrollbar{ width: 10px; }

    /* --- HEADER & ACTIONS --- */
    .terms-header{
      position:sticky; top:0; z-index:10;
      background: rgba(0,8,18,.98); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0,234,255,.22);
      padding: 14px 16px 10px; box-shadow: 0 10px 22px rgba(0,0,0,.35);
    }
    .terms-title{ font-size:13px; letter-spacing:1px; text-transform:uppercase; margin:0 0 6px; }
    .terms-meta{ font-size:11px; line-height:1.55; color:#b8faff; opacity:.92; margin:0; }
    .terms-docmeta{ margin-top:8px; font-size:10px; letter-spacing:.8px; opacity:.62; color:#e8ffff; }
    
    .terms-actions.compact{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; align-items:center; margin-top:10px; }
    
    /* LANGUAGE SELECTOR - COMPACT ROW */
    .lang-group{
      display:flex; border:1px solid rgba(255,255,255,.18); border-radius:8px; 
      margin-right:10px; flex-wrap: wrap; 
    }
    .lang-btn{
      background:rgba(0,0,0,.3); color:rgba(255,255,255,.5); border:none; padding:0 10px; height:30px;
      font-family:inherit; font-size:10px; cursor:pointer; transition:all .2s; border-right:1px solid rgba(255,255,255,.05);
      flex: 0 0 auto; 
    }
    .lang-btn:last-child{ border-right:none; }
    .lang-btn:hover{ background:rgba(255,255,255,.1); color:#fff; }
    .lang-btn.active{ background:rgba(0,234,255,.15); color:#fff; font-weight:bold; }

    .icon-btn{
      width:30px;height:30px; display:inline-flex;align-items:center;justify-content:center;
      border-radius:10px; border:1px solid rgba(255,255,255,.10); background: transparent;
      color: rgba(255,255,255,.92); opacity:.85; cursor:pointer;
      transition: opacity .16s ease, border-color .16s ease, background .16s ease;
      padding:0; text-decoration:none;
    }
    .icon-btn svg{ width:16px;height:16px; display:block; }
    .icon-btn:hover{ opacity:1; border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.04); }
    .icon-btn:active{ background: rgba(255,255,255,.06); }
    .icon-btn[disabled]{ opacity:.30; cursor:not-allowed; }
    .icon-btn:focus-visible{ outline:none; border-color: rgba(0,234,255,.40); box-shadow:0 0 0 2px rgba(0,234,255,.25); opacity:1; }

    #ttsPlay .ico-pause{ display:none; }
    #ttsPlay.is-speaking .ico-play{ display:none; }
    #ttsPlay.is-speaking .ico-pause{ display:block; }

    /* --- BODY CONTENT & RTL SUPPORT --- */
    .terms-body{
      font-size:14.5px; line-height:1.85; color:#fff; opacity:.985;
      text-shadow: 0 0 10px rgba(0,0,0,.35); letter-spacing: .1px;
    }
    .hidden-lang { display: none !important; }

    .terms-body h2{
      margin: 18px 0 8px; font-size: 12.8px; letter-spacing: 1.3px;
      text-transform: uppercase; text-decoration: underline;
      text-decoration-thickness: 1px; text-underline-offset: 4px;
      text-decoration-color: rgba(184,250,255,.75); opacity: 1;
    }
    .terms-body p{ margin: 10px 0; }
    .terms-body ul{ margin: 8px 0 8px 18px; }
    .terms-body .secno{ color:#b8faff; opacity:.88; margin-right:8px; }
    .mono{ letter-spacing:.3px; }

    /* RTL SPECIFIC OVERRIDES (ARABIC) */
    body.rtl .terms-body { direction: rtl; text-align: right; }
    body.rtl .terms-body ul { margin: 8px 18px 8px 0; }
    body.rtl .terms-body .secno { margin-right:0; margin-left:8px; }

    /* --- TOAST --- */
    .privacy-toast{
      position: fixed; left:50%; bottom: 86px; transform: translate(-50%, 10px);
      max-width: min(720px, calc(100% - 36px));
      background: rgba(0,8,18,.92); border: 1px solid rgba(0,234,255,.22);
      border-radius: 14px; padding: 10px 12px; color:#e8ffff;
      font-size: 12px; line-height: 1.35; letter-spacing: .3px;
      opacity: 0; pointer-events: none; z-index: 9998;
      backdrop-filter: blur(12px); transition: opacity .18s ease, transform .18s ease;
    }
    .privacy-toast.show{ opacity: .96; transform: translate(-50%, 0); }

    /* --- ELEVATOR BUTTONS --- */
    #backToTop {
      position: fixed; right: 22px; bottom: 78px;
      width: 42px; height: 42px; border-radius: 50%;
      border: 1px solid rgba(255,255,255,0.25); background: rgba(0,0,0,0.65);
      color: #ffffff; font-size: 18px; cursor: pointer; opacity: 0;
      pointer-events: none; transform: translateY(8px);
      transition: opacity .25s ease, transform .25s ease, background .25s ease;
      z-index: 9999;
    }
    #backToTop.show { opacity: 1; pointer-events: auto; transform: translateY(0); }
    #backToTop:hover { background: rgba(255,255,255,0.12); }

    #toBottom{
      position: fixed; right: max(14px, env(safe-area-inset-right)); top: 85px; 
      z-index: 9999; width: 42px; height: 42px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18); background: rgba(0,0,0,.46);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      color: rgba(255,255,255,.92); font-size: 18px;
      display: grid; place-items: center; cursor: pointer; opacity: 0;
      pointer-events: none; transform: translateY(-8px);
      transition: opacity .25s ease, transform .25s ease, border-color .25s ease;
    }
    #toBottom.show{ opacity: 1; pointer-events: auto; transform: translateY(0); }
    #toBottom:hover{ opacity: 1; border-color: rgba(255,255,255,.38); }
    #toBottom:active{ transform: translateY(1px); }

    /* --- MOBILE OPTIMIZATION --- */
    @media (max-width: 1024px), (pointer: coarse) {
      .terms-header{ position: static !important; top: auto !important; box-shadow: none !important; border-bottom: 1px solid rgba(255,255,255,.15); }
      .terms-title{ font-size: 12px !important; }
      .terms-meta{ font-size: 10px !important; line-height: 1.45 !important; }
      .terms-docmeta{ font-size: 9px !important; }
      .footer-links{ font-size:13px; }
      .copyright{ font-size:8px; }
      .terms-panel { overflow-y: auto !important; -webkit-overflow-scrolling: touch; }
      .terms-scroll { overflow: visible !important; height: auto !important; padding-top: 14px !important; scroll-padding-top: 0 !important; }
      
      .lang-group {
        flex-wrap: nowrap;
        overflow-x: auto;
        max-width: 180px; 
        scrollbar-width: none; 
      }
      .lang-group::-webkit-scrollbar{ display:none; }
    }

    /* --- PRINT --- */
    @media print{
      body{ background:#fff !important; overflow:visible !important; }
      canvas, .footer-bar, .consent-banner, .consent-modal-backdrop, .privacy-toast, #backToTop, #toBottom, .terms-actions{ display:none !important; }
      .terms-wrap{ position:static !important; padding:0 !important; }
      .terms-panel{
        max-height:none !important; overflow:visible !important; border:none !important;
        box-shadow:none !important; background:#fff !important; color:#000 !important; text-shadow:none !important;
      }
      .terms-header{ position:static !important; border:none !important; background:#fff !important; margin:0 !important; padding:0 0 12px !important; }
      .terms-meta, .terms-docmeta{ color:#000 !important; opacity:1 !important; }
      .terms-body{ color:#000 !important; opacity:1 !important; }
      .terms-body h2{ text-decoration-color: #000 !important; text-decoration-thickness: 1px !important; }
      .hidden-lang{ display:none !important; }
      body.rtl .terms-body { direction: rtl; text-align: right; }
    }
  </style>
</head>

<body>
  <canvas id="canvas"></canvas>

  <div class="terms-wrap">
    <div class="terms-panel" id="termsPanel">
      <div class="terms-header">
        <div class="terms-title" data-i18n="docTitle">TERMS OF USE (GLOBAL)</div>
        <div class="terms-meta">
          MICRORETAILX LLC (Delaware, USA)<br/>
          MicroretailX Group – Global Operations Framework<br/>
          <span class="mono" data-i18n="lastUpd">Last updated:</span> 2025-12-25 · <span class="mono" data-i18n="effDate">Effective date:</span> 2025-12-25
          <div class="terms-docmeta">Document ID: MRX-TOU-2025-12-25 · Version: 1</div>
        </div>

        <div class="terms-actions compact">
          <div class="lang-group">
            <button class="lang-btn active" onclick="switchLang('en')">EN</button>
            <button class="lang-btn" onclick="switchLang('es')">ES</button>
            <button class="lang-btn" onclick="switchLang('ca')">CA</button>
            <button class="lang-btn" onclick="switchLang('ar')">AR</button>
            <button class="lang-btn" onclick="switchLang('zh')">ZH</button>
            <button class="lang-btn" onclick="switchLang('ru')">RU</button>
            <button class="lang-btn" onclick="switchLang('hi')">HI</button>
          </div>

          <button class="icon-btn" id="printPDF" type="button" aria-label="Download" title="Download">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 3v10m0 0l4-4m-4 4L8 9" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5 15v4h14v-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <button class="icon-btn" id="ttsPlay" type="button" aria-label="Audio" title="Listen">
            <svg class="ico-play" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z" fill="currentColor"/></svg>
            <svg class="ico-pause" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 5h3v14H7zM14 5h3v14h-3z" fill="currentColor"/></svg>
          </button>

          <a class="icon-btn" href="index.html" aria-label="Home" title="Home">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M10 19l-7-7 7-7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M3 12h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </a>
        </div>
      </div>

      <div class="terms-scroll" id="termsScroll">
        
        <div class="terms-body" id="content-en">
    <h2>DEFINITIONS</h2>
    <p><strong>“MICRORETAILX”, “we”, “us”, “our”</strong> means MICRORETAILX LLC, a Delaware limited liability company.</p>
    <p><strong>“Website”</strong> means this website and any associated pages, subdomains, interactive elements, code, visuals, outputs, and content.</p>
    <p><strong>“MICRORETAILX GROUP”</strong> means an operational framework used to describe current and/or future projects and teams across jurisdictions and is not a separate legal entity unless expressly identified in writing.</p>
    <p><strong>“Verticals”</strong> means thematic domains used as a conceptual and strategic classification framework only.</p>
    <p><strong>“Content”</strong> includes all text, graphics, designs, source code, visualisations, simulations, models, workflows, and documentation made available through the Website.</p>
    <p><strong>“Submissions”</strong> means any feedback, ideas, proposals, or materials you provide to us.</p>

    <h2>OPERATOR, SCOPE, AND ACCEPTANCE</h2>
    <p>These Terms govern your access to and use of the Website. By accessing or using the Website, you agree to be bound by them.</p>
    <p>You represent that you have legal capacity to accept these Terms and authority to bind any organisation you represent.</p>

    <h2>OPERATOR IDENTITY, LEGAL SEAT, AND ADDRESS FOR NOTICES</h2>
    <p>This Website is operated and controlled exclusively by MICRORETAILX LLC, organised under the laws of the State of Delaware, USA.</p>
    <p>
      <strong>Registered Office & Registered Agent:</strong><br>
      Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, USA.
    </p>
    <p>
      Legal and compliance communications must be directed exclusively to
      <strong>legal@microretailx.com</strong>.
    </p>
    <p>
      No reference to “nodes”, “labs”, “regions”, “countries”, or “verticals” shall be interpreted as an establishment,
      branch, office, or operational presence of MICRORETAILX LLC.
    </p>

    <h2>GLOBAL OPERATING MODEL; NO PARTNERSHIP; NO AGENCY</h2>
    <p>MICRORETAILX operates globally and may conduct projects, research, and collaborations across jurisdictions.</p>
    <p>
      Unless expressly stated in a written agreement executed by an authorised representative of MICRORETAILX LLC:
      (i) nothing on the Website creates a partnership, joint venture, agency, fiduciary, or employment relationship;
      (ii) no party is authorised to bind MICRORETAILX LLC; and
      (iii) references to “group”, “network”, “verticals”, “teams”, “partners”, or similar terms are descriptive only.
    </p>
          <p>
  No representation on the Website shall be construed as creating a permanent establishment,
  fixed place of business, commercial presence, or taxable nexus in any jurisdiction.
</p>

    <h2>STATUS OF THE WEBSITE; NO OFFER; NO COMMITMENT</h2>
    <p>
      The Website is provided for informational, conceptual, and exploratory purposes only.
      Nothing constitutes an offer, solicitation, investment proposal, or commitment of any kind.
    </p>
    <p>
      Any engagement or transaction will occur only through separate written agreements and, where applicable,
      duly constituted legal entities.
    </p>

    <h2>VERTICALS FRAMEWORK (CONCEPTUAL AND NON-OPERATIONAL)</h2>
    <p>
      Verticals are a conceptual and strategic framework only and do not constitute business units, products,
      services, subsidiaries, regulated activities, or operational establishments.
    </p>

    <h2>ZERO DATA STRATEGY (PRIVACY-BY-DESIGN)</h2>
    <p>
      The Website is engineered under a Zero Data Strategy by default: no accounts, no profiling,
      and no third-party tracking technologies are enabled by default.
    </p>

    <h2>COOKIES AND CONSENT</h2>
    <p>
      Only strictly necessary cookies are used by default. Optional technologies are enabled only after explicit user consent,
      where required by law.
    </p>

    <h2>HOSTING, DELIVERY, AND SECURITY</h2>
    <p>
      The Website is hosted via third-party infrastructure and security layers.
      Limited technical logs may be processed solely for security, integrity, and abuse prevention.
    </p>
    <p>
      Mere accessibility of the Website does not constitute targeting, business activity,
      or establishment in any jurisdiction.
    </p>

    <h2>PERMITTED USE; PROHIBITED CONDUCT</h2>
    <p>
      You must not scrape, crawl, reverse engineer, probe vulnerabilities, extract algorithms,
      or interfere with the Website or its underlying logic or infrastructure.
    </p>

    <h2>PRESERVATION, TAKEDOWN, AND ENFORCEMENT</h2>
    <p>
      We may take reasonable technical and legal measures to protect the Website and preserve evidence of abuse or misuse.
    </p>

    <h2>INTELLECTUAL PROPERTY; TRADE SECRETS</h2>
    <p>
      All rights in the Website and its Content are owned by MICRORETAILX LLC and/or its licensors
      and are protected by intellectual property laws worldwide.
    </p>

    <h2>CONFIDENTIALITY OF NON-PUBLIC MATERIALS</h2>
    <p>
      Non-public or restricted materials must not be disclosed or distributed without prior written authorisation.
    </p>

    <h2>SUBMISSIONS AND FEEDBACK</h2>
    <p>
      You grant MICRORETAILX a worldwide, royalty-free licence to use Submissions, to the extent permitted by law.
    </p>

    <h2>EXTERNAL LINKS; THIRD-PARTY SERVICES</h2>
    <p>
      We are not responsible for third-party content, services, or practices.
    </p>

    <h2>DISCLAIMERS; NO RELIANCE</h2>
    <p>
      The Website provides no legal, tax, financial, scientific, or professional advice.
      Forward-looking statements are inherently uncertain.
    </p>

    <h2>AVAILABILITY; “AS IS”</h2>
    <p>
      The Website and Content are provided “as is” and “as available”, without warranties of any kind.
    </p>

    <h2>LIMITATION OF LIABILITY</h2>
    <p>
      Liability is excluded or limited to the maximum extent permitted by applicable law.
    </p>

    <h2>INDEMNITY</h2>
    <p>
      You agree to indemnify MICRORETAILX LLC against claims arising from unlawful use or breach of these Terms.
    </p>

    <h2>COMPLIANCE; EXPORT CONTROLS; SANCTIONS</h2>
    <p>
      You agree to comply with applicable export control and sanctions laws,
      including U.S. Export Administration Regulations (EAR) and OFAC regimes.
    </p>

    <h2>ELECTRONIC COMMUNICATIONS; NOTICES</h2>
    <p>
      Legal and compliance notices must be sent to <strong>legal@microretailx.com</strong>.
    </p>

    <h2>COPYRIGHT NOTICE (DMCA)</h2>
    <p>
      Copyright infringement notices may be submitted to legal@microretailx.com.
    </p>

    <h2>CHANGES TO TERMS</h2>
    <p>
      We may modify these Terms at any time. Continued use constitutes acceptance of the revised Terms.
    </p>

 <h2>GOVERNING LAW; JURISDICTION; LANGUAGE</h2>

<p>
  Subject to mandatory local law, these Terms are governed by the laws of the State of Delaware, USA.
  The English version prevails over translations.
</p>

<p>
  Translations are provided solely for convenience. In the event of any discrepancy,
  the English version shall prevail.
</p>


    <h2>SEVERABILITY; ASSIGNMENT; ENTIRE AGREEMENT</h2>
    <p>
      If any provision is held invalid, the remainder remains in force.
      These Terms constitute the entire agreement regarding Website use.
    </p>

    <h2>CONTACT</h2>
    <p>
      Legal and compliance notices: <strong>legal@microretailx.com</strong>.
    </p>
        </div>

        <div class="terms-body hidden-lang" id="content-ca">
          <h2>Definicions</h2>
          <p>Als efectes d'aquests Termes:</p>
          <p>“MICRORETAILX”, “nosaltres” significa <strong>MICRORETAILX LLC</strong>, una societat de responsabilitat limitada de Delaware.</p>
          <p>“Lloc Web” fa referència a aquest lloc, subdominis, codi i contingut associat.</p>
          <p>“GRUP MICRORETAILX” és un marc operatiu descriptiu i no una entitat legal separada per defecte.</p>

          <h2>Identitat de l'Operador; Jurisdicció de Delaware</h2>
          <p>Aquest lloc és operat exclusivament per <strong>MICRORETAILX LLC</strong>, constituïda sota les lleis de l'Estat de Delaware, EUA.</p>
          <p><strong>Seu Registrada:</strong> Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, EUA.</p>

          <h2>Model Operatiu Global</h2>
          <p>Les referències a “nodes” o “equips” són descriptives i no creen vincles legals d'associació.</p>

          <h2>Estratègia de Dades Zero</h2>
          <p>Operem amb privadesa per disseny. Sense rastreig per defecte ni comptes d'usuari obligatoris.</p>

          <h2>Llei Aplicable (Delaware)</h2>
          <p><span class="mono">24.1</span> Aquests Termes es regeixen per les lleis de l'Estat de Delaware, EUA.</p>
          <p><span class="mono">24.2</span> Les disputes es resoldran als tribunals de Delaware, excepte si la llei local imperativa indica el contrari.</p>

          <h2>Contacte</h2>
          <p>Avisos legals: <a href="mailto:legal@microretailx.com">legal@microretailx.com</a>.</p>
        </div>

        <div class="terms-body hidden-lang" id="content-zh">
          <h2>定义</h2>
          <p>就本条款而言：</p>
          <p>“MICRORETAILX”、“我们”是指 <strong>MICRORETAILX LLC</strong>，一家特拉华州有限责任公司。</p>
          <p>“网站”是指本网站及其相关的子域名、代码、视觉效果和内容。</p>
          <p>“MICRORETAILX GROUP” 是用于描述跨辖区项目的运营框架，除非另有书面说明，否则不构成独立的法律实体。</p>

          <h2>运营商身份；特拉华州管辖权</h2>
          <p>本网站由 <strong>MICRORETAILX LLC</strong> 独家运营和控制，该公司根据美国特拉华州法律成立。</p>
          <p><strong>注册地址：</strong> Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, USA.</p>

          <h2>零数据策略 (Zero Data)</h2>
          <p>本网站采用隐私设计原则。默认情况下不进行跟踪，也不需要账户。</p>

          <h2>允许的使用</h2>
          <p>您同意合法使用本网站。禁止抓取、逆向工程或攻击网站基础设施。</p>

          <h2>免责声明</h2>
          <p>本网站按“原样”提供。在法律允许的最大范围内，MICRORETAILX LLC 不对任何间接或后果性损害承担责任。</p>

          <h2>适用法律（特拉华州）</h2>
          <p><span class="mono">24.1</span> 本条款受美国特拉华州法律管辖。</p>
          <p><span class="mono">24.2</span> 除非强制性当地法律另有规定，否则争议应专门在特拉华州法院解决。</p>

          <h2>联系方式</h2>
          <p>法律通知：<a href="mailto:legal@microretailx.com">legal@microretailx.com</a>。</p>
        </div>

        <div class="terms-body hidden-lang" id="content-ar">
          <h2>التعريفات</h2>
          <p>لأغراض هذه الشروط:</p>
          <p>"MICRORETAILX"، "نحن" تعني <strong>MICRORETAILX LLC</strong>، وهي شركة ذات مسؤولية محدودة في ديلاوير.</p>
          <p>"الموقع" يعني هذا الموقع الإلكتروني والنطاقات الفرعية والأكواد والمحتوى المرتبط به.</p>
          <p>"مجموعة MICRORETAILX" هي إطار عمل تشغيلي لوصف المشاريع العالمية، ولا تشكل كيانًا قانونيًا منفصلاً بشكل افتراضي.</p>

          <h2>هوية المشغل؛ اختصاص ديلاوير</h2>
          <p>يتم تشغيل هذا الموقع والتحكم فيه حصريًا من قبل <strong>MICRORETAILX LLC</strong>، المؤسسة بموجب قوانين ولاية ديلاوير، الولايات المتحدة الأمريكية.</p>
          <p><strong>المكتب المسجل:</strong> Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, USA.</p>

          <h2>استراتيجية البيانات الصفرية (Zero Data)</h2>
          <p>يعمل الموقع بموجب استراتيجية الخصوصية حسب التصميم. لا يلزم إنشاء حسابات، ولا يوجد تتبع نشط بشكل افتراضي.</p>

          <h2>إخلاء المسؤولية</h2>
          <p>يتم توفير الموقع "كما هو". لا تتحمل MICRORETAILX LLC المسؤولية عن أي أضرار غير مباشرة أو تبعية إلى أقصى حد يسمح به القانون.</p>

          <h2>القانون الواجب التطبيق (ديلاوير)</h2>
          <p><span class="mono">24.1</span> تخضع هذه الشروط لقوانين ولاية ديلاوير، الولايات المتحدة الأمريكية.</p>
          <p><span class="mono">24.2</span> يتم تسوية النزاعات حصريًا في محاكم ديلاوير، ما لم ينص القانون المحلي الإلزامي للمستهلك على خلاف ذلك.</p>

          <h2>اتصل بنا</h2>
          <p>الإشعارات القانونية: <a href="mailto:legal@microretailx.com">legal@microretailx.com</a>.</p>
        </div>

        <div class="terms-body hidden-lang" id="content-ru">
          <h2>Определения</h2>
          <p>Для целей настоящих Условий:</p>
          <p>«MICRORETAILX», «мы» означает <strong>MICRORETAILX LLC</strong>, общество с ограниченной ответственностью штата Делавэр.</p>
          <p>«Веб-сайт» означает этот сайт, поддомены, код и связанный контент.</p>
          <p>«MICRORETAILX GROUP» — это операционная структура для описания глобальных проектов. Она не является отдельным юридическим лицом по умолчанию.</p>

          <h2>Оператор и юрисдикция Делавэра</h2>
          <p>Этот сайт управляется исключительно компанией <strong>MICRORETAILX LLC</strong>, зарегистрированной в соответствии с законами штата Делавэр, США.</p>
          <p><strong>Зарегистрированный офис:</strong> Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, USA.</p>

          <h2>Стратегия нулевых данных</h2>
          <p>Мы работаем по принципу конфиденциальности. Учетные записи не требуются, отслеживание по умолчанию отключено.</p>

          <h2>Отказ от ответственности</h2>
          <p>Сайт предоставляется «как есть». MICRORETAILX LLC не несет ответственности за косвенные убытки в максимальной степени, разрешенной законом.</p>

          <h2>Применимое право (Делавэр)</h2>
          <p><span class="mono">24.1</span> Настоящие Условия регулируются законами штата Делавэр, США.</p>
          <p><span class="mono">24.2</span> Споры разрешаются исключительно в судах Делавэра, если иное не предусмотрено обязательным местным законодательством.</p>

          <h2>Контакты</h2>
          <p>Юридические уведомления: <a href="mailto:legal@microretailx.com">legal@microretailx.com</a>.</p>
        </div>

        <div class="terms-body hidden-lang" id="content-hi">
          <h2>परिभाषाएँ</h2>
          <p>इन शर्तों के प्रयोजनों के लिए:</p>
          <p>“MICRORETAILX”, “हम” का अर्थ है <strong>MICRORETAILX LLC</strong>, एक डेलावेयर सीमित देयता कंपनी (LLC)।</p>
          <p>“वेबसाइट” का अर्थ है यह साइट, उप-डोमेन, कोड और संबंधित सामग्री।</p>
          <p>“MICRORETAILX GROUP” वैश्विक परियोजनाओं का वर्णन करने के लिए एक परिचालन ढांचा है और डिफ़ॉルト रूप से एक अलग कानूनी इकाई नहीं है।</p>

          <h2>संचालक और डेलावेयर अधिकार क्षेत्र</h2>
          <p>यह वेबसाइट विशेष रूप से <strong>MICRORETAILX LLC</strong> द्वारा संचालित है, जो डेलावेयर राज्य, यूएसए के कानूनों के तहत गठित है।</p>
          <p><strong>पंजीकृत कार्यालय:</strong> Corporation Trust Center, 1209 Orange Street, Wilmington, DE 19801, USA.</p>

          <h2>जीरो डेटा रणनीति</h2>
          <p>हम गोपनीयता-दर-डिज़ाइन (Privacy-by-Design) के तहत काम करते हैं। डिफ़ॉल्ट रूप से कोई ट्रैकिंग नहीं है।</p>

          <h2>दायित्व की सीमा</h2>
          <p>साइट "जैसी है" (as is) प्रदान की जाती है। MICRORETAILX LLC कानून द्वारा अनुमत अधिकतम सीमा तक अप्रत्यक्ष नुकसान के लिए उत्तरदायी नहीं होगा।</p>

          <h2>शासी कानून (डेलावेयर)</h2>
          <p><span class="mono">24.1</span> ये शर्तें डेलावेयर राज्य, यूएसए के कानूनों द्वारा शासित होती हैं।</p>
          <p><span class="mono">24.2</span> विवादों को विशेष रूप से डेलावेयर की अदालतों में लाया जाएगा, जब तक कि अनिवार्य स्थानीय कानून अन्यथा आवश्यकता न हो।</p>

          <h2>संपर्क</h2>
          <p>कानूनी नोटिस: <a href="mailto:legal@microretailx.com">legal@microretailx.com</a>.</p>
        </div>

      </div>
    </div>
  </div>

  <div class="ui-layer footer-bar">
    <div class="footer-links">
      <a href="terms.html" rel="noopener noreferrer" data-i18n="linkTerms">Terms</a>
      <a href="privacy.html" rel="noopener noreferrer" data-i18n="linkPrivacy">Privacy</a>
      <a href="cookies.html" rel="noopener noreferrer" data-i18n="linkCookies">Cookies</a>
      <a href="#" id="cookiePreferencesLink" data-i18n="linkPrefs">Cookie Preferences</a>
      <a href="legal.html" rel="noopener noreferrer" data-i18n="linkLegal">Legal</a>
    </div>
    <div class="copyright">© 2023-2025 MICRORETAILX LLC — ALL RIGHTS RESERVED</div>
  </div>

  <div class="privacy-toast" id="privacyToast" role="status" aria-live="polite"></div>

  <div class="consent-banner" id="consentBanner" aria-live="polite">
    <div class="consent-row">
      <div class="consent-text" id="bannerText">
        We use strictly necessary technologies to operate this site and store your preferences locally in your browser. Optional categories (Analytics / Marketing) are currently not active and will only apply if such technologies are implemented in the future and you explicitly enable them. You can review or change your choice anytime via <a href="#" id="cookiePreferencesInline">Cookie Preferences</a>.
      </div>
      <div class="consent-actions">
        <button class="consent-btn" id="consentReject" data-i18n="btnReject">Reject</button>
        <button class="consent-btn" id="consentManage" data-i18n="btnPrefs">Preferences</button>
        <button class="consent-btn primary" id="consentAccept" data-i18n="btnAccept">Accept</button>
      </div>
    </div>
  </div>

  <div class="consent-modal-backdrop" id="consentModalBackdrop" aria-hidden="true">
    <div class="consent-modal" tabindex="-1" role="dialog" aria-modal="true" aria-label="Cookie Preferences">
      <div class="consent-modal-header">
        <div class="consent-modal-title" data-i18n="modalTitle">COOKIE PREFERENCES</div>
        <button class="consent-modal-close" id="consentModalClose" aria-label="Close">×</button>
      </div>
      <div class="consent-modal-body">
        <span data-i18n="modalIntro">Choose which optional categories you want to allow. Necessary cookies are always enabled.</span>
        <div class="consent-cats">
          <div class="consent-cat">
            <div><strong data-i18n="catNec">Necessary</strong><p data-i18n="catNecDesc">Required for basic functionality, security and page delivery. Always on.</p></div>
            <div class="toggle on locked" aria-label="Necessary cookies (always on)"></div>
          </div>
          <div class="consent-cat">
            <div><strong data-i18n="catAna">Analytics</strong><p data-i18n="catAnaDesc">Helps us understand traffic and improve the Website. Loaded only with your consent.</p></div>
            <div class="toggle" id="toggleAnalytics" role="switch" aria-checked="false" tabindex="0"></div>
          </div>
          <div class="consent-cat">
            <div><strong data-i18n="catMkt">Marketing</strong><p data-i18n="catMktDesc">Enables marketing / tracking technologies. Loaded only with your consent.</p></div>
            <div class="toggle" id="toggleMarketing" role="switch" aria-checked="false" tabindex="0"></div>
          </div>
        </div>
      </div>
      <div class="consent-modal-footer">
        <button class="consent-btn" id="consentSave" data-i18n="btnSave">Save</button>
        <button class="consent-btn primary" id="consentAcceptAll" data-i18n="btnAcceptAll">Accept All</button>
      </div>
    </div>
  </div>

  <script>
    "use strict";

    const STRINGS = {
      en: { docTitle: "TERMS OF USE (GLOBAL)", lastUpd: "Last updated:", effDate: "Effective date:", linkTerms: "Terms", linkPrivacy: "Privacy", linkCookies: "Cookies", linkPrefs: "Cookie Preferences", linkLegal: "Legal", bannerHtml: 'We use strictly necessary technologies to operate this site and store your preferences locally in your browser. Optional categories (Analytics / Marketing) are currently not active and will only apply if such technologies are implemented in the future and you explicitly enable them. You can review or change your choice anytime via <a href="#" onclick="openConsentPanel();return false;">Cookie Preferences</a>.', btnReject: "Reject", btnPrefs: "Preferences", btnAccept: "Accept", modalTitle: "COOKIE PREFERENCES", modalIntro: "Choose which optional categories you want to allow. Necessary cookies are always enabled.", catNec: "Necessary", catNecDesc: "Required for basic functionality, security and page delivery. Always on.", catAna: "Analytics", catAnaDesc: "Helps us understand traffic and improve the Website. Loaded only with your consent.", catMkt: "Marketing", catMktDesc: "Enables marketing / tracking technologies. Loaded only with your consent.", btnSave: "Save", btnAcceptAll: "Accept All" },
      es: { docTitle: "TÉRMINOS DE USO (GLOBAL)", lastUpd: "Última act.:", effDate: "Fecha efectiva:", linkTerms: "Términos", linkPrivacy: "Privacidad", linkCookies: "Cookies", linkPrefs: "Preferencias Cookies", linkLegal: "Legal", bannerHtml: 'Utilizamos tecnologías estrictamente necesarias para operar este sitio y guardar sus preferencias localmente. Las categorías opcionales (Analítica / Marketing) no están activas y solo se aplicarán si usted las habilita explícitamente. Puede cambiar su elección en <a href="#" onclick="openConsentPanel();return false;">Preferencias</a>.', btnReject: "Rechazar", btnPrefs: "Preferencias", btnAccept: "Aceptar", modalTitle: "PREFERENCIAS DE COOKIES", modalIntro: "Elija qué categorías opcionales desea permitir. Las cookies necesarias están siempre activas.", catNec: "Necesarias", catNecDesc: "Requeridas para funcionalidad básica y seguridad.", catAna: "Analítica", catAnaDesc: "Nos ayuda a entender el tráfico.", catMkt: "Marketing", catMktDesc: "Permite marketing y seguimiento.", btnSave: "Guardar", btnAcceptAll: "Aceptar Todo" },
      ca: { docTitle: "TERMES D'ÚS (GLOBAL)", lastUpd: "Darrera act.:", effDate: "Data efectiva:", linkTerms: "Termes", linkPrivacy: "Privadesa", linkCookies: "Galetes", linkPrefs: "Preferències Galetes", linkLegal: "Legal", bannerHtml: 'Utilitzem tecnologies estrictament necessàries per operar aquest lloc i desar les vostres preferències localment. Les categories opcionals (Analítica / Màrqueting) no estan actives actualment i només s\'activaran si les activeu explícitament. Podeu canviar la vostra elecció en qualsevol moment a través de <a href="#" onclick="openConsentPanel();return false;">Preferències</a>.', btnReject: "Rebutjar", btnPrefs: "Preferències", btnAccept: "Acceptar", modalTitle: "PREFERÈNCIES DE GALETES", modalIntro: "Trieu les categories opcionals. Les necessàries sempre estan actives.", catNec: "Necessàries", catNecDesc: "Requerides per al funcionament bàsic.", catAna: "Analítica", catAnaDesc: "Analítica web.", catMkt: "Màrqueting", catMktDesc: "Màrqueting i seguiment.", btnSave: "Desar", btnAcceptAll: "Acceptar Tot" },
      zh: { docTitle: "使用条款 (全球)", lastUpd: "最后更新:", effDate: "生效日期:", linkTerms: "条款", linkPrivacy: "隐私", linkCookies: "Cookie", linkPrefs: "Cookie 偏好", linkLegal: "法律", bannerHtml: '我们使用绝对必要的技术来运营本网站并在您的浏览器中本地存储您的偏好。可选类别（分析/营销）目前未处于活动状态，只有在您明确启用的情况下才会应用。您可以随时通过<a href="#" onclick="openConsentPanel();return false;">Cookie 偏好</a>更改您的选择。', btnReject: "拒绝", btnPrefs: "偏好", btnAccept: "接受", modalTitle: "COOKIE 偏好设置", modalIntro: "选择您允许的可选类别。", catNec: "必要", catNecDesc: "基本功能所需。", catAna: "分析", catAnaDesc: "帮助我们要解流量。", catMkt: "营销", catMktDesc: "启用营销技术。", btnSave: "保存", btnAcceptAll: "全部接受" },
      ar: { docTitle: "شروط الاستخدام (عالمي)", lastUpd: "آخر تحديث:", effDate: "تاريخ السريان:", linkTerms: "الشروط", linkPrivacy: "الخصوصية", linkCookies: "ملفات الارتباط", linkPrefs: "تفضيلات ملفات الارتباط", linkLegal: "قانوني", bannerHtml: 'نستخدم التقنيات الضرورية لتشغيل هذا الموقع وتخزين تفضيلاتك محليًا في متصفحك. الفئات الاختيارية (التحليلات / التسويق) غير نشطة حاليًا ولن يتم تطبيقها إلا إذا قمت بتمكينها صراحةً. يمكنك مراجعة اختيارك أو تغييره في أي وقت عبر <a href="#" onclick="openConsentPanel();return false;">تفضيلات ملفات الارتباط</a>.', btnReject: "رفض", btnPrefs: "تفضيلات", btnAccept: "قبول", modalTitle: "تفضيلات ملفات الارتباط", modalIntro: "اختر الفئات التي تريد السماح بها.", catNec: "ضروري", catNecDesc: "مطلوب للوظائف الأساسية والأمان.", catAna: "تحليلات", catAnaDesc: "يساعدنا في فهم حركة المرور.", catMkt: "تسويق", catMktDesc: "يمكّن تقنيات التسويق.", btnSave: "حفظ", btnAcceptAll: "قبول الكل" },
      ru: { docTitle: "УСЛОВИЯ ИСПОЛЬЗОВАНИЯ", lastUpd: "Обновлено:", effDate: "Дата:", linkTerms: "Условия", linkPrivacy: "Приватность", linkCookies: "Cookies", linkPrefs: "Настройки Cookies", linkLegal: "Юридическая инфо", bannerHtml: 'Мы используем строго необходимые технологии для работы сайта и локального хранения ваших настроек. Дополнительные категории (Аналитика / Маркетинг) в настоящее время не активны и будут применяться только в случае их явного включения. Вы можете изменить свой выбор в любое время через <a href="#" onclick="openConsentPanel();return false;">Настройки</a>.', btnReject: "Отклонить", btnPrefs: "Настройки", btnAccept: "Принять", modalTitle: "НАСТРОЙКИ COOKIES", modalIntro: "Выберите категории.", catNec: "Необходимые", catNecDesc: "Нужны для работы сайта.", catAna: "Аналитика", catAnaDesc: "Анализ трафика.", catMkt: "Маркетинг", catMktDesc: "Маркетинг и трекинг.", btnSave: "Сохранить", btnAcceptAll: "Принять все" },
      hi: { docTitle: "उपयोग की शर्तें (वैश्विक)", lastUpd: "अंतिम अद्यतन:", effDate: "प्रभावी तिथि:", linkTerms: "शर्तें", linkPrivacy: "गोपनीयता", linkCookies: "कुकीज़", linkPrefs: "कुकी वरीयताएँ", linkLegal: "कानूनी", bannerHtml: 'हम इस साइट को संचालित करने और आपकी वरीयताओं को स्थानीय रूप से संग्रहीत करने के लिए कड़ाई से आवश्यक तकनीकों का उपयोग करते हैं। वैकल्पिक श्रेणियां (एनालिटिक्स / मार्केटिंग) वर्तमान में सक्रिय नहीं हैं और केवल तभी लागू होंगी जब आप उन्हें स्पष्ट रूप से सक्षम करेंगे। आप <a href="#" onclick="openConsentPanel();return false;">कुकी वरीयताएँ</a> के माध्यम से कभी भी अपनी पसंद बदल सकते हैं।', btnReject: "अस्वीकार", btnPrefs: "वरीयताएँ", btnAccept: "स्वीकार", modalTitle: "कुकी वरीयताएँ", modalIntro: "वैकल्पिक श्रेणियां चुनें।", catNec: "आवश्यक", catNecDesc: "बुनियादी कार्यक्षमता के लिए आवश्यक।", catAna: "एनालिटिक्स", catAnaDesc: "ट्रैफिक समझने में मदद करता है।", catMkt: "मार्केटिंग", catMktDesc: "मार्केटिंग तकनीक सक्षम करता है।", btnSave: "सहेजें", btnAcceptAll: "सभी स्वीकार करें" }
    };

    let currentLang = localStorage.getItem("mrxx_lang") || "en";

    function switchLang(lang){
      currentLang = lang;
      localStorage.setItem("mrxx_lang", lang);
      
      document.querySelectorAll(".lang-btn").forEach(b => {
        b.classList.toggle("active", b.innerText.toLowerCase() === lang);
      });

      if(lang === "ar"){ document.body.classList.add("rtl"); }
      else { document.body.classList.remove("rtl"); }

      document.querySelectorAll(".terms-body").forEach(el => el.classList.add("hidden-lang"));
      const target = document.getElementById("content-" + lang);
      if(target) target.classList.remove("hidden-lang");

      const dict = STRINGS[lang] || STRINGS.en;
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if(dict[key]) el.textContent = dict[key];
      });
      const bannerText = document.getElementById("bannerText");
      if(bannerText && dict.bannerHtml) bannerText.innerHTML = dict.bannerHtml;

      window.dispatchEvent(new Event("lang-change"));

      const scrollContainer = document.getElementById("termsScroll") || window;
      scrollContainer.scrollTop = 0;
      numberSections();
    }

    document.addEventListener("DOMContentLoaded", () => {
      switchLang(currentLang);
    });

    function setVhVar(){
      const vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty("--vh", vh + "px");
    }
    setVhVar();
    window.addEventListener("resize", setVhVar, { passive: true });
    window.addEventListener("orientationchange", setVhVar, { passive: true });

    const toastEl = document.getElementById("privacyToast");
    let toastTimer = null;
    function showToast(msg){
      if (!toastEl) return;
      toastEl.textContent = msg;
      toastEl.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>toastEl.classList.remove("show"), 2600);
    }

    function numberSections(){
      document.querySelectorAll(".secno").forEach(e => e.remove());
      const visibleRoot = document.querySelector(".terms-body:not(.hidden-lang)");
      if (!visibleRoot) return;
      const headings = Array.from(visibleRoot.querySelectorAll("h2"));
      let major = 0;
      headings.forEach(h => {
        major += 1;
        const span = document.createElement("span");
        span.className = "secno";
        span.textContent = `${major}.`;
        h.prepend(span);
      });
    }

    const CONSENT_KEY = "mrxx_consent_v1";
    const CONSENT_MAX_DAYS = 365;

    const consentBanner = document.getElementById("consentBanner");
    const consentModalBackdrop = document.getElementById("consentModalBackdrop");
    const cookiePreferencesLink = document.getElementById("cookiePreferencesLink");
    const cookiePreferencesInline = document.getElementById("cookiePreferencesInline");

    const consentReject = document.getElementById("consentReject");
    const consentManage = document.getElementById("consentManage");
    const consentAccept = document.getElementById("consentAccept");

    const consentModalClose = document.getElementById("consentModalClose");
    const consentSave = document.getElementById("consentSave");
    const consentAcceptAll = document.getElementById("consentAcceptAll");

    const toggleAnalytics = document.getElementById("toggleAnalytics");
    const toggleMarketing = document.getElementById("toggleMarketing");

    let lastActiveEl = null;
    function getFocusable(container){
      if (!container) return [];
      const sel = [
        "a[href]", "button:not([disabled])", "input:not([disabled])",
        "select:not([disabled])", "textarea:not([disabled])", "[tabindex]:not([tabindex='-1'])"
      ].join(",");
      return Array.from(container.querySelectorAll(sel)).filter(el => {
        const style = window.getComputedStyle(el);
        return style.visibility !== "hidden" && style.display !== "none";
      });
    }
    function trapFocus(e){
      if (!consentModalBackdrop.classList.contains("open")) return;
      if (e.key !== "Tab") return;
      const modal = consentModalBackdrop.querySelector(".consent-modal");
      const focusables = getFocusable(modal);
      if (!focusables.length) return;
      const first = focusables[0];
      const last = focusables[focusables.length - 1];
      const active = document.activeElement;
      if (e.shiftKey){
        if (active === first || !modal.contains(active)){ e.preventDefault(); last.focus(); }
      } else {
        if (active === last){ e.preventDefault(); first.focus(); }
      }
    }
    function trapFocusBanner(e){
      if (!document.body.classList.contains("consent-locked")) return;
      if (!consentBanner.classList.contains("open")) return;
      if (consentModalBackdrop.classList.contains("open")) return;
      if (e.key !== "Tab") return;
      const focusables = getFocusable(consentBanner);
      if (!focusables.length) return;
      const first = focusables[0];
      const last = focusables[focusables.length - 1];
      const active = document.activeElement;
      if (e.shiftKey){
        if (active === first || !consentBanner.contains(active)){ e.preventDefault(); last.focus(); }
      } else {
        if (active === last){ e.preventDefault(); first.focus(); }
      }
    }

    function lockSite(){
      document.body.classList.add("consent-locked");
      document.documentElement.style.overflow = "hidden";
      const bg = document.querySelector(".terms-wrap");
      const footer = document.querySelector(".footer-bar");
      if (bg) bg.setAttribute("aria-hidden","true");
      if (footer) footer.setAttribute("aria-hidden","true");
    }
    function unlockSite(){
      document.body.classList.remove("consent-locked");
      document.documentElement.style.overflow = "";
      const bg = document.querySelector(".terms-wrap");
      const footer = document.querySelector(".footer-bar");
      if (bg) bg.removeAttribute("aria-hidden");
      if (footer) footer.removeAttribute("aria-hidden");
    }
    function wakeSite(){
      unlockSite();
      void document.body.offsetHeight;
      document.body.classList.add("consent-waking");
      setTimeout(()=>document.body.classList.remove("consent-waking"), 1250);
    }

    function isConsentLocked(){ return document.body.classList.contains("consent-locked"); }
    function isInsideConsentUI(node){
      return (consentModalBackdrop && consentModalBackdrop.contains(node)) ||
             (consentBanner && consentBanner.contains(node));
    }
    (function installHardLockGuards(){
      document.addEventListener("click", (e)=>{
        if (!isConsentLocked()) return;
        if (isInsideConsentUI(e.target)) return;
        e.preventDefault(); e.stopPropagation();
        if (consentBanner) consentBanner.classList.add("open");
        try { consentAccept && consentAccept.focus({preventScroll:true}); } catch(_){}
      }, true);
      document.addEventListener("keydown", (e)=>{
        if (!isConsentLocked()) return;
        if (isInsideConsentUI(e.target)) return;
        const allowed = (e.key === "Tab" || e.key === "Shift" || e.key === "Escape");
        if (!allowed){ e.preventDefault(); e.stopPropagation(); }
        if (e.key === "Escape"){
          e.preventDefault(); e.stopPropagation();
          if (consentBanner) consentBanner.classList.add("open");
          try { consentAccept && consentAccept.focus({preventScroll:true}); } catch(_){}
        }
      }, true);
      window.addEventListener("wheel", (e)=>{
        if (!isConsentLocked()) return;
        if (isInsideConsentUI(e.target)) return;
        e.preventDefault();
      }, { passive:false, capture:true });
      window.addEventListener("touchmove", (e)=>{
        if (!isConsentLocked()) return;
        if (isInsideConsentUI(e.target)) return;
        e.preventDefault();
      }, { passive:false, capture:true });
    })();

    function setCookie(name, value, days){
      const d = new Date(); d.setTime(d.getTime() + (days*24*60*60*1000));
      document.cookie = `${name}=${encodeURIComponent(value)}; expires=${d.toUTCString()}; path=/; SameSite=Lax`;
    }
    function getCookie(name){
      const parts = document.cookie ? document.cookie.split("; ") : [];
      for (const p of parts){
        const idx = p.indexOf("=");
        const k = idx >= 0 ? p.slice(0, idx) : p;
        const v = idx >= 0 ? p.slice(idx + 1) : "";
        if (k === name) return decodeURIComponent(v);
      }
      return null;
    }
    function loadConsent(){
      const ls = localStorage.getItem(CONSENT_KEY);
      if (ls){ try { return JSON.parse(ls); } catch(_){} }
      const ck = getCookie(CONSENT_KEY);
      if (ck){ try { return JSON.parse(ck); } catch(_){} }
      return null;
    }
    function saveConsent(consent){
      const payload = JSON.stringify(consent);
      localStorage.setItem(CONSENT_KEY, payload);
      setCookie(CONSENT_KEY, payload, CONSENT_MAX_DAYS);
    }
    function generateAuditID(){
      return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
        (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
      );
    }
    function displayAuditID(id){
      let el = document.getElementById("audit-display");
      if (!el){
        el = document.createElement("div"); el.id = "audit-display";
        el.style.cssText = "font-size:7px;opacity:0.25;margin-top:8px;letter-spacing:1px;text-transform:uppercase;color:white;";
        document.querySelector(".footer-bar").appendChild(el);
      }
      el.textContent = id ? `CONSENT-REF: ${String(id).toUpperCase()}` : "PREFERENCES: MINIMAL";
    }
    function applyConsent(consent){
      document.documentElement.dataset.analytics = consent.analytics ? "1" : "0";
      document.documentElement.dataset.marketing = consent.marketing ? "1" : "0";
      document.documentElement.dataset.consent = (consent.analytics || consent.marketing) ? "granted" : "denied";
    }
    function setToggle(el, on){
      el.classList.toggle("on", !!on);
      el.setAttribute("aria-checked", String(!!on));
    }
    function openConsentPanel(){
      const current = loadConsent() || { necessary:true, analytics:false, marketing:false, ts:Date.now(), decision:"rejected", auditId:null };
      setToggle(toggleAnalytics, !!current.analytics);
      setToggle(toggleMarketing, !!current.marketing);
      consentModalBackdrop.classList.add("open");
      consentModalBackdrop.setAttribute("aria-hidden", "false");
      lastActiveEl = document.activeElement;
      const modal = consentModalBackdrop.querySelector(".consent-modal");
      const focusables = getFocusable(modal);
      (focusables[0] || modal).focus({ preventScroll:true });
    }
    function closeConsentPanel(){
      consentModalBackdrop.classList.remove("open");
      consentModalBackdrop.setAttribute("aria-hidden", "true");
      if (lastActiveEl && typeof lastActiveEl.focus === "function"){
        try { lastActiveEl.focus({ preventScroll:true }); } catch(_){ try{ lastActiveEl.focus(); }catch(__){} }
      }
      lastActiveEl = null;
    }
    function hideBanner(){ consentBanner.classList.remove("open"); wakeSite(); }
    function setAllConsent(val){
      const granted = !!val;
      const consent = { necessary:true, analytics:granted, marketing:granted, ts:Date.now(), decision: granted?"accepted":"rejected", auditId: granted?generateAuditID():null };
      saveConsent(consent); applyConsent(consent); displayAuditID(consent.auditId);
      hideBanner(); closeConsentPanel();
    }
    function saveFromPanel(){
      const prev = loadConsent();
      const analytics = toggleAnalytics.classList.contains("on");
      const marketing = toggleMarketing.classList.contains("on");
      const optionalOn = analytics || marketing;
      const consent = { necessary:true, analytics, marketing, ts:Date.now(), decision: optionalOn?"accepted":"rejected", auditId: optionalOn?(prev&&prev.auditId?prev.auditId:generateAuditID()):null };
      saveConsent(consent); applyConsent(consent); displayAuditID(consent.auditId);
      hideBanner(); closeConsentPanel();
    }
    function toggleSwitch(el){ setToggle(el, !el.classList.contains("on")); }
    function handleSwitchKey(el, e){ if (e.key === "Enter" || e.key === " "){ e.preventDefault(); toggleSwitch(el); } }

    cookiePreferencesLink.addEventListener("click", (e)=>{ e.preventDefault(); openConsentPanel(); });
    consentManage.addEventListener("click", ()=>openConsentPanel());
    consentReject.addEventListener("click", ()=>setAllConsent(false));
    consentAccept.addEventListener("click", ()=>setAllConsent(true));
    consentModalClose.addEventListener("click", ()=>closeConsentPanel());
    consentSave.addEventListener("click", ()=>saveFromPanel());
    consentAcceptAll.addEventListener("click", ()=>setAllConsent(true));
    consentModalBackdrop.addEventListener("click", (e)=>{ if (e.target === consentModalBackdrop) closeConsentPanel(); });
    document.addEventListener("keydown", (e)=>{ if (e.key === "Escape") closeConsentPanel(); });
    document.addEventListener("keydown", trapFocus);
    document.addEventListener("keydown", trapFocusBanner);
    toggleAnalytics.addEventListener("click", ()=>toggleSwitch(toggleAnalytics));
    toggleMarketing.addEventListener("click", ()=>toggleSwitch(toggleMarketing));
    toggleAnalytics.addEventListener("keydown", (e)=>handleSwitchKey(toggleAnalytics, e));
    toggleMarketing.addEventListener("keydown", (e)=>handleSwitchKey(toggleMarketing, e));

    const existingConsent = loadConsent();
    if (existingConsent){ applyConsent(existingConsent); displayAuditID(existingConsent.auditId); wakeSite(); }
    else { lockSite(); consentBanner.classList.add("open"); try{ consentAccept.focus({preventScroll:true}); }catch(_){ try{ consentAccept.focus(); }catch(__){} } }

    function printViaIframe(){
      const visibleContent = document.querySelector(".terms-body:not(.hidden-lang)");
      const content = visibleContent ? visibleContent.innerHTML : "No content";
      const html = `<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>MICRORETAILX TERMS</title><style>html,body{margin:0;padding:0;background:#fff;color:#000;font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}.wrap{padding:18px 20px;}@page{ margin:14mm; }h2{margin:18px 0 8px;font-size:12.5px;letter-spacing:1px;text-transform:uppercase;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:4px;}.meta{font-size:11px;line-height:1.45;margin-bottom:14px;}.body{font-size:13px;line-height:1.75;}.secno{margin-right:8px;} body.rtl { direction: rtl; text-align: right; } body.rtl .secno { margin-right: 0; margin-left: 8px; }</style></head><body class="${document.body.classList.contains('rtl') ? 'rtl' : ''}"><div class="wrap"><div class="meta"><div><strong>MICRORETAILX LLC</strong> (Delaware, USA)</div><div>MICRORETAILX GROUP – Global Operations Framework</div><div>Last updated: 2025-12-25 · Effective date: 2025-12-25</div><div><strong>CT, 1209 Orange Street, Wilmington, DE 19801, United States of America.</strong></div></div><div class="body">${content}</div></div></body></html>`;
      const iframe = document.createElement("iframe");
      iframe.style.cssText = "position:fixed;right:0;bottom:0;width:0;height:0;border:0;opacity:0;";
      iframe.setAttribute("aria-hidden", "true");
      document.body.appendChild(iframe);
      const doc = iframe.contentWindow.document;
      doc.open(); doc.write(html); doc.close();
      const w = iframe.contentWindow;
      const cleanup = () => { try { document.body.removeChild(iframe); } catch(e){} };
      const tryPrint = () => { try { w.focus(); } catch(e){} try { w.print(); } catch(e){ cleanup(); } };
      w.onafterprint = cleanup;
      if (doc.readyState === "complete") setTimeout(tryPrint, 50);
      else { iframe.onload = () => setTimeout(tryPrint, 50); setTimeout(tryPrint, 200); }
    }
    const printBtn = document.getElementById("printPDF");
    if (printBtn){
      printBtn.addEventListener("mouseenter", ()=>showToast("Opens Print dialog (Save as PDF)."));
      printBtn.addEventListener("click", ()=>printViaIframe());
    }

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d", { alpha:false });
    const termsPanelEl = document.querySelector(".terms-panel");
    let width = window.innerWidth; let height = window.innerHeight;
    const PR = Math.min(2, window.devicePixelRatio || 1);
    function resizeHiDPI(){
      canvas.width = Math.floor(window.innerWidth * PR);
      canvas.height = Math.floor(window.innerHeight * PR);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(PR, 0, 0, PR, 0, 0);
      width = window.innerWidth; height = window.innerHeight;
    }
    resizeHiDPI();
    window.addEventListener("resize", resizeHiDPI);
    function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }
    function easeInOutCubic(t){ return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2, 3)/2; }
    function smoothPulse(t){ return 0.5 - 0.5*Math.cos(Math.PI * clamp(t,0,1)); }
    function drawGlowDot(x, y, r, a){
      if (a <= 0) return;
      ctx.save(); ctx.globalCompositeOperation = "lighter";
      const g = ctx.createRadialGradient(x, y, 0, x, y, r);
      g.addColorStop(0, `rgba(0,234,255,${a})`);
      g.addColorStop(0.35, `rgba(0,234,255,${a*0.35})`);
      g.addColorStop(1, `rgba(0,234,255,0)`);
      ctx.fillStyle = g; ctx.beginPath(); ctx.arc(x, y, r, 0, Math.PI * 2); ctx.fill(); ctx.restore();
    }
    function drawX(alpha){
      ctx.save(); ctx.strokeStyle = `rgba(0,234,255,${alpha})`; ctx.lineWidth = 1.7;
      ctx.beginPath(); ctx.moveTo(0, 0); ctx.lineTo(width, height); ctx.moveTo(width, 0); ctx.lineTo(0, height); ctx.stroke();
      ctx.strokeStyle = `rgba(0,234,255,${alpha*0.52})`; ctx.lineWidth = 3.2;
      ctx.beginPath(); ctx.moveTo(0, 0); ctx.lineTo(width, height); ctx.moveTo(width, 0); ctx.lineTo(0, height); ctx.stroke();
      ctx.restore();
    }
    let phaseT = 0; let last = performance.now();
    const PHASE_IN = 2.8; const PHASE_HOLD = 1.15; const PHASE_OUT = 2.2; const PHASE_REST = 0.55;
    const CYCLE = PHASE_IN + PHASE_HOLD + PHASE_OUT + PHASE_REST;
    function lerp(a,b,t){ return a + (b-a)*t; }
    let rafId = null; let rafPaused = false; let lastBeamA = -1;
    function startAnim(){ if (rafId != null) return; rafPaused = false; last = performance.now(); rafId = requestAnimationFrame(loop); }
    function stopAnim(){ rafPaused = true; if (rafId != null){ cancelAnimationFrame(rafId); rafId = null; } }
    document.addEventListener("visibilitychange", ()=>{ if (document.visibilityState === "hidden") stopAnim(); else startAnim(); });

    function loop(now){
      if (rafPaused) return;
      const dt = Math.min(0.05, (now - last) / 1000);
      last = now; phaseT = (phaseT + dt) % CYCLE;
      ctx.fillStyle = "#000"; ctx.fillRect(0, 0, width, height);
      const cx = width / 2; const cy = height / 2;
      const tIn = clamp(phaseT / PHASE_IN, 0, 1);
      const tHold = clamp((phaseT - PHASE_IN) / PHASE_HOLD, 0, 1);
      const tOut = clamp((phaseT - PHASE_IN - PHASE_HOLD) / PHASE_OUT, 0, 1);
      const inActive = phaseT < PHASE_IN;
      const holdActive = phaseT >= PHASE_IN && phaseT < PHASE_IN + PHASE_HOLD;
      const outActive = phaseT >= PHASE_IN + PHASE_HOLD && phaseT < PHASE_IN + PHASE_HOLD + PHASE_OUT;
      const travelIn = easeInOutCubic(tIn); const travelOut = easeInOutCubic(tOut);
      const glowUp = smoothPulse(tHold); const fadeOut = 1 - smoothPulse(tOut);

      if (termsPanelEl){
        let beamA = 0; let beamSpread = 0;
        if (holdActive){ beamA = clamp((0.25 + 0.75 * glowUp) * 0.85, 0, 1); beamSpread = 24 + 120 * glowUp; }
        else if (outActive){ beamA = clamp(0.18 * fadeOut, 0, 0.18); beamSpread = 16 + 60 * fadeOut; }
        if (Math.abs(beamA - lastBeamA) > 0.01){
          termsPanelEl.style.setProperty("--beamA", beamA.toFixed(3));
          termsPanelEl.style.setProperty("--beamSpread", beamSpread.toFixed(0) + "px");
          lastBeamA = beamA;
        }
      }
      const baseA = 0.045;
      let lineA = baseA;
      if (inActive) lineA = baseA + 0.08 * smoothPulse(tIn);
      if (holdActive) lineA = baseA + 0.18 * glowUp;
      if (outActive) lineA = baseA + 0.14 * fadeOut;
      drawX(lineA);
      const origins = [{x:0, y:0},{x:width, y:0},{x:0, y:height},{x:width, y:height}];
      function positionFromOrigin(origin, progress){ return { x: lerp(origin.x, cx, progress), y: lerp(origin.y, cy, progress) }; }
      function positionReturnToOrigin(origin, progress){ return { x: lerp(cx, origin.x, progress), y: lerp(cy, origin.y, progress) }; }
      const headR = 62; const tailSteps = 14; const tailSpan = 0.10;
      function drawTrailTo(posFn, prog, alphaScale){
        for (let oi = 0; oi < origins.length; oi++){
          const o = origins[oi]; const head = posFn(o, prog);
          for (let i = 0; i < tailSteps; i++){
            const k = i / tailSteps; const tt = clamp(prog - k*tailSpan, 0, 1);
            const e = easeInOutCubic(tt); const p = posFn(o, e); const fade = (1 - k);
            drawGlowDot(p.x, p.y, 38 * fade, alphaScale * (0.08 * fade));
          }
          drawGlowDot(head.x, head.y, headR, alphaScale * 0.22);
        }
      }
      if (inActive) drawTrailTo(positionFromOrigin, travelIn, 1);
      else if (holdActive){
        const centerBurst = 0.25 + 0.70 * glowUp;
        drawGlowDot(cx, cy, 120, centerBurst * 0.35); drawGlowDot(cx, cy, 78, centerBurst * 0.55); drawGlowDot(cx, cy, 44, centerBurst * 0.75);
      } else if (outActive){
        const a = Math.max(0, 0.9 * fadeOut); drawTrailTo(positionReturnToOrigin, travelOut, a);
        const centerA = (0.10 + 0.20 * fadeOut); drawGlowDot(cx, cy, 78, centerA * 0.35);
      } else {
        const restA = 0.02; drawGlowDot(cx, cy, 64, restA);
      }
      rafId = requestAnimationFrame(loop);
    }
    startAnim();

    (function termsAudio(){
      const playBtn = document.getElementById("ttsPlay");
      function getVisibleTerms(){ return document.querySelector(".terms-body:not(.hidden-lang)") || document.getElementById("content-en"); }
      if (!playBtn) return;
      const synth = window.speechSynthesis;
      const supported = !!(synth && window.SpeechSynthesisUtterance);
      if (!supported){ playBtn.disabled = true; return; }
      
      let voices = [];
      function populateVoices() { voices = synth.getVoices(); }
      populateVoices();
      if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = populateVoices;
      }

      function setState(state){
        playBtn.classList.remove("is-speaking");
        if (state === "idle"){ playBtn.title = "Listen"; }
        else if (state === "speaking"){ playBtn.classList.add("is-speaking"); playBtn.title = "Pause"; }
        else { playBtn.title = "Resume"; }
      }
      function normalizeText(str){ return (str || "").replace(/\s+/g, " ").trim(); }
      function chunkText(text, maxLen = 900){
        const chunks = []; let t = text;
        while (t.length > maxLen){
          let cut = t.lastIndexOf(". ", maxLen);
          if (cut < 200) cut = t.lastIndexOf("; ", maxLen);
          if (cut < 200) cut = t.lastIndexOf(", ", maxLen);
          if (cut < 200) cut = maxLen;
          chunks.push(t.slice(0, cut + 1).trim()); t = t.slice(cut + 1).trim();
        }
        if (t.length) chunks.push(t); return chunks;
      }
      let queue = [];
      function cancelAll(){ try { synth.cancel(); } catch(_){ } queue = []; setState("idle"); }
      
      function speakNext(){
        if (!queue.length){ setState("idle"); return; }
        const part = queue.shift();
        const u = new SpeechSynthesisUtterance(part);
        
        const currentLang = localStorage.getItem("mrxx_lang") || "en";
        const langMap = { 
          "en":"en-US", "es":"es-ES", "ca":"ca-ES", "zh":"zh-CN", 
          "ru":"ru-RU", "ar":"ar-SA", "hi":"hi-IN"
        };
        const targetCode = langMap[currentLang] || "en-US";
        u.lang = targetCode;

        const bestVoice = voices.find(v => 
          v.lang.startsWith(targetCode.split('-')[0]) && 
          (v.name.includes("Neural") || v.name.includes("Premium") || v.name.includes("Natural"))
        ) || voices.find(v => v.lang.startsWith(targetCode.split('-')[0]));
        
        if (bestVoice) u.voice = bestVoice;
        
        u.rate = 1.0; u.pitch = 1.0; u.volume = 1.0;
        u.onend = ()=>{ if (!synth.paused) speakNext(); };
        u.onerror = ()=>{ if (!synth.paused) speakNext(); };
        setState("speaking"); synth.speak(u);
      }

      const msg = "Audio runs locally. Click to pause/resume. Double‑click to stop.";
      playBtn.addEventListener("mouseenter", ()=>showToast(msg));
      playBtn.addEventListener("dblclick", (e)=>{ e.preventDefault(); cancelAll(); showToast("Stopped."); });
      playBtn.addEventListener("click", ()=>{
        showToast(msg);
        if (synth.speaking){
          if (synth.paused){ try { synth.resume(); } catch(_){ } setState("speaking"); }
          else { try { synth.pause(); } catch(_){ } setState("paused"); }
          return;
        }
        cancelAll(); 
        const termsEl = getVisibleTerms(); 
        const text = normalizeText(termsEl.innerText); 
        if (!text) return;
        queue = chunkText(text, 900); 
        speakNext();
      });
      window.addEventListener("beforeunload", ()=>{ try { synth.cancel(); } catch(_){} });
      window.addEventListener("lang-change", ()=>{ cancelAll(); });
      setState("idle");
    })();
  
    window.addEventListener("DOMContentLoaded", () => {
      const backToTop = document.getElementById("backToTop");
      const toBottom = document.getElementById("toBottom");
      const panel = document.getElementById("termsPanel");
      const scrollInner = document.getElementById("termsScroll");
      const containers = [panel, scrollInner, window].filter(Boolean);
      if (!backToTop) return;
      function getScrollData(){
        if (panel && panel.scrollHeight > panel.clientHeight && (getComputedStyle(panel).overflowY !== 'hidden')){
          return { el: panel, top: panel.scrollTop, max: panel.scrollHeight - panel.clientHeight };
        }
        if (scrollInner && scrollInner.scrollHeight > scrollInner.clientHeight){
          return { el: scrollInner, top: scrollInner.scrollTop, max: scrollInner.scrollHeight - scrollInner.clientHeight };
        }
        const doc = document.documentElement;
        return { el: window, top: window.scrollY, max: doc.scrollHeight - doc.clientHeight };
      }
      function scrollToBottom(){
        const { el } = getScrollData();
        if (el === window){ const doc = document.documentElement; window.scrollTo({ top: doc.scrollHeight, behavior: "smooth" }); }
        else { el.scrollTo({ top: el.scrollHeight, behavior: "smooth" }); }
      }
      function scrollToTop(){
        const { el } = getScrollData();
        if (el === window){ window.scrollTo({ top: 0, behavior: "smooth" }); }
        else { el.scrollTo({ top: 0, behavior: "smooth" }); }
      }
      function syncJumpButtons(){
        const { top, max } = getScrollData();
        if (top > 300) backToTop.classList.add("show"); else backToTop.classList.remove("show");
        if (toBottom){ if (max - top > 50) toBottom.classList.add("show"); else toBottom.classList.remove("show"); }
      }
      containers.forEach(c => c.addEventListener("scroll", syncJumpButtons, { passive: true }));
      syncJumpButtons();
      backToTop.addEventListener("click", scrollToTop);
      if (toBottom) toBottom.addEventListener("click", scrollToBottom);
    });

    document.addEventListener("click", (e) => {
      const a = e.target.closest && e.target.closest("a");
      if (!a) return;
      if (a.target === "_blank") { e.preventDefault(); location.href = a.href; }
    }, true);
  </script>

<button id="backToTop" aria-label="Back to top">↑</button>
<button id="toBottom" aria-label="Go to bottom">↓</button>

</body>
</html>
