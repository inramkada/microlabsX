<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>MicroretailX</title>

<style>
  html, body{
    margin:0; height:100%;
    background:#000; color:#fff;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    overflow-x:hidden;
  }
  html,body{scrollbar-width:none;-ms-overflow-style:none}
  ::-webkit-scrollbar{width:0;height:0}

  /* ===== Background video ===== */
  #bg{
    position:fixed; inset:0;
    width:100vw; height:100vh;
    object-fit:cover;
    z-index:1;
    pointer-events:none;
  }

  /* ===== Topbar ===== */
  .topbar{
    position:fixed;
    top:18px; right:18px;
    z-index:9999;
    display:flex;
    align-items:center;
    gap:56px;
    mix-blend-mode:difference;
    user-select:none;
    -webkit-user-select:none;
  }

  .about-btn, .nodes{
    font-size:22px;
    font-weight:700;
    letter-spacing:.22em;
    text-transform:uppercase;
    white-space:nowrap;
  }

  .about-btn{
    cursor:pointer;
    color:rgba(255,255,255,.78);
    transition: transform .18s ease, opacity .18s ease;
  }
  .about-btn:hover{ opacity:.95; transform: translateY(-1px); }

  /* ===== Nodes dropdown ===== */
  .nodes{
    position:relative;
    cursor:default;
    color:rgba(255,255,255,.92);
  }

  .nodes-bridge{
    position:absolute;
    top:100%;
    left:-30px;
    right:-30px;
    height:28px;
    background:transparent;
    pointer-events:auto;
  }

  .nodes-stack{
    position:absolute;
    top:calc(100% + 18px);
    left:50%;
    transform: translateX(-50%) translateY(-6px);
    display:grid;
    gap:22px;
    opacity:0;
    pointer-events:none;
    transition: opacity .22s ease, transform .22s ease;
    z-index:99999;
  }

  .nodes:hover .nodes-stack{
    opacity:1;
    pointer-events:auto;
    transform: translateX(-50%) translateY(0);
  }

  .node{
    width:11.5ch;
    text-align:center;
    font-size:40px;
    font-weight:700;
    letter-spacing:.04em;
    opacity:.92;
    cursor:pointer;
    position:relative;
  }
  .node::after{
    content:"";
    position:absolute;
    left:50%;
    bottom:-12px;
    width:0;
    height:2px;
    transform: translateX(-50%);
    background: rgba(255,255,255,.9);
    opacity:0;
    transition: width .18s ease, opacity .18s ease;
  }
  .node:hover::after{ width:66%; opacity:.85; }

  /* ===== Main page spacer so you can scroll down to rail area if needed ===== */
  .page{
    position:relative;
    z-index:2;
    min-height:140vh;
  }

  /* ===== Bottom black rail ===== */
  .rail{
    position:fixed;
    left:0; right:0; bottom:0;
    height:min(58vh, 520px);
    z-index:50;

    background:#000; /* âœ… BLACK CONTAINER */
    border-top:1px solid rgba(255,255,255,.10);
    box-shadow: 0 -40px 140px rgba(0,0,0,.65);

    display:flex;
    flex-direction:column;
    pointer-events:auto;
  }

  .rail-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:18px 20px 10px;
  }

  .rail-title{
    font-size:11px;
    letter-spacing:.18em;
    text-transform:uppercase;
    opacity:.6;
  }

  .rail-arrows{
    display:flex; gap:10px;
  }

  .chev{
    width:40px; height:40px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.04);
    color:rgba(255,255,255,.88);
    cursor:pointer;
    display:grid;
    place-items:center;
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
  }
  .chev:hover{
    transform: translateY(-1px);
    border-color: rgba(255,255,255,.24);
    background: rgba(255,255,255,.06);
  }

  /* the draggable track */
  .rail-track{
    flex:1;
    display:flex;

    overflow-x:auto;
    overflow-y:hidden;

    scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling:touch;
    scroll-behavior:auto; /* we will animate ourselves for inertia */

    touch-action: pan-x;
    cursor:grab;
    user-select:none;
    -webkit-user-select:none;
  }
  .rail-track.dragging{
    cursor:grabbing;
  }

  .panel{
    min-width:100%;
    height:100%;
    scroll-snap-align:start;
    padding:26px 20px 34px;
    box-sizing:border-box;
  }

  .kicker{
    font-size:11px;
    letter-spacing:.18em;
    text-transform:uppercase;
    opacity:.6;
    margin:0 0 12px;
  }

  .h2{
    margin:0 0 16px;
    font-size:26px;
    letter-spacing:.06em;
    text-transform:uppercase;
    line-height:1.15;
    opacity:.92;
    max-width: 26ch;
  }

  .p{
    margin:0 0 14px;
    font-size:14px;
    line-height:1.65;
    opacity:.72;
    max-width:74ch;
  }

  .tags{
    display:flex; flex-wrap:wrap; gap:10px; margin-top:12px;
  }
  .tag{
    font-size:11px;
    letter-spacing:.14em;
    text-transform:uppercase;
    padding:9px 14px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.16);
    background:rgba(255,255,255,.04);
    cursor:pointer;
  }
  .tag:hover{ border-color:rgba(255,255,255,.28); background:rgba(255,255,255,.06); }

  /* Small top hint line (optional subtle) */
  .rail-progress{
    height:1px;
    background:rgba(255,255,255,.08);
    margin:0 20px 12px;
    position:relative;
    overflow:hidden;
  }
  .rail-tick{
    position:absolute;
    top:-7px;
    width:2px;
    height:15px;
    background:rgba(255,255,255,.9);
    opacity:.25;
    transform: translateX(0);
    transition: transform .18s ease;
  }

  @media (max-width: 720px){
    .rail{ height:min(62vh, 560px); }
    .h2{ font-size:22px; }
  }
</style>
</head>

<body>

<video id="bg" autoplay muted loop playsinline preload="metadata">
  <source src="CT.mp4" type="video/mp4">
</video>

<div class="topbar">
  <div class="about-btn" id="aboutBtn">ABOUT</div>

  <div class="nodes">
    NODES
    <div class="nodes-bridge" aria-hidden="true"></div>
    <div class="nodes-stack" aria-hidden="true">
      <div class="node" data-node="001">001</div>
      <div class="node" data-node="002">002</div>
      <div class="node" data-node="003">003</div>
    </div>
  </div>
</div>

<div class="page"></div>

<!-- BLACK DRAGGABLE RAIL (always visible) -->
<div class="rail" id="rail">
  <div class="rail-header">
    <div class="rail-title" id="railMeta">01 / 03</div>
    <div class="rail-arrows">
      <button class="chev" id="prevBtn" type="button" aria-label="Previous">&#8592;</button>
      <button class="chev" id="nextBtn" type="button" aria-label="Next">&#8594;</button>
    </div>
  </div>

  <div class="rail-progress" aria-hidden="true">
    <div class="rail-tick" id="railTick"></div>
  </div>

  <div class="rail-track" id="railTrack">
    <!-- PANEL 0 -->
    <section class="panel" data-panel="overview">
      <div class="kicker">SOLUTIONS</div>
      <div class="h2">A GLOBAL, SCALABLE SYSTEM FOR THE NEXT INDUSTRIAL ERA.</div>

      <p class="p">
        Our objective is to provide governments with a globally deployable and scalable solution based on advanced automation and controlled biotechnology infrastructure.
      </p>

      <p class="p">
        Designed to transform physical space into fully automated operational environments,
        where software, robotics, and data orchestration redefine production.
      </p>

      <div class="tags">
        <span class="tag" data-jump="ceo">CEO</span>
        <span class="tag" data-jump="gov">INVESTORS &amp; GOVERNMENTS</span>
      </div>
    </section>

    <!-- PANEL 1 -->
    <section class="panel" data-panel="ceo">
      <div class="kicker">CEO</div>
      <div class="h2">WHO WE ARE</div>

      <p class="p">
        MicroretailX LLC is the legal entity behind this initiative. We design automation-first systems for controlled, scalable biotech operations across institutional environments.
      </p>

      <p class="p">
        The focus is the structural layer of the next industrial shift: measurable execution, robotics, and orchestration as a deployable system.
      </p>
    </section>

    <!-- PANEL 2 -->
    <section class="panel" data-panel="gov">
      <div class="kicker">GOVERNMENTS</div>
      <div class="h2">INSTITUTIONAL CONTACT</div>

      <p class="p">
        For public-sector agencies and institutional partners: deployment frameworks, pilots, regulatory alignment, and collaboration models.
      </p>

      <p class="p" style="opacity:.62;">
        (We embed your preferred contact mechanism here once you decide the channel.)
      </p>
    </section>
  </div>
</div>

<script>
  const aboutBtn = document.getElementById("aboutBtn");
  const track = document.getElementById("railTrack");
  const panels = Array.from(track.querySelectorAll(".panel"));
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const railMeta = document.getElementById("railMeta");
  const railTick = document.getElementById("railTick");

  const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));

  function w(){ return track.clientWidth || window.innerWidth; }
  function idx(){ return Math.round(track.scrollLeft / w()); }

  function scrollToIndex(i, smooth=true){
    const target = clamp(i,0,panels.length-1) * w();
    if(smooth){
      track.scrollTo({ left: target, behavior: "smooth" });
    }else{
      track.scrollLeft = target;
    }
  }

  function updateUI(){
    const i = idx();
    railMeta.textContent = String(i+1).padStart(2,"0") + " / " + String(panels.length).padStart(2,"0");

    const line = railTick.parentElement;
    const maxX = Math.max(0, line.clientWidth - 2);
    const pct = (panels.length<=1) ? 0 : i/(panels.length-1);
    railTick.style.transform = `translateX(${Math.round(maxX*pct)}px)`;
  }

  // Buttons
  prevBtn.addEventListener("click", ()=>scrollToIndex(idx()-1, true));
  nextBtn.addEventListener("click", ()=>scrollToIndex(idx()+1, true));

  // Tags jump
  document.querySelectorAll("[data-jump]").forEach(el=>{
    el.addEventListener("click", ()=>{
      const key = el.getAttribute("data-jump");
      const i = panels.findIndex(p => p.dataset.panel === key);
      if(i>=0) scrollToIndex(i, true);
    });
  });

  // ABOUT just brings focus to the rail (bottom)
  aboutBtn.addEventListener("click", ()=>{
    // small nudge so user notices the rail
    track.scrollTo({ left: track.scrollLeft, behavior:"smooth" });
  });

  // ===== Drag + throw inertia =====
  let dragging=false;
  let startX=0;
  let startLeft=0;
  let lastX=0;
  let lastT=0;
  let v=0; // px/ms
  let raf=null;

  function stopInertia(){
    if(raf) cancelAnimationFrame(raf);
    raf=null;
  }

  function snapNearest(){
    scrollToIndex(idx(), true);
  }

  track.addEventListener("mousedown", (e)=>{
    dragging=true;
    track.classList.add("dragging");
    stopInertia();

    startX = e.pageX;
    startLeft = track.scrollLeft;

    lastX = e.pageX;
    lastT = performance.now();
    v = 0;
  });

  window.addEventListener("mousemove", (e)=>{
    if(!dragging) return;
    const dx = e.pageX - startX;
    track.scrollLeft = startLeft - dx;

    const now = performance.now();
    const dt = Math.max(1, now - lastT);
    const dxv = e.pageX - lastX;
    v = dxv / dt; // px/ms (pointer)
    lastX = e.pageX;
    lastT = now;

    updateUI();
  });

  window.addEventListener("mouseup", ()=>{
    if(!dragging) return;
    dragging=false;
    track.classList.remove("dragging");

    // throw: convert pointer velocity to scroll velocity
    // pointer moving right means scrollLeft decreases; invert sign
    let sv = -v * 28; // tuning factor for feel

    const friction = 0.92;
    const minV = 0.06;

    const step = ()=>{
      sv *= friction;
      track.scrollLeft += sv * 16; // approx per frame
      updateUI();

      if(Math.abs(sv) > minV){
        raf = requestAnimationFrame(step);
      }else{
        raf = null;
        snapNearest();
      }
    };

    if(Math.abs(sv) > 0.25){
      raf = requestAnimationFrame(step);
    }else{
      snapNearest();
    }
  });

  // Mobile: snap after touch end
  track.addEventListener("touchend", ()=>setTimeout(snapNearest, 60));

  // Keep UI in sync
  track.addEventListener("scroll", ()=>updateUI(), { passive:true });
  window.addEventListener("resize", ()=>{ scrollToIndex(idx(), false); updateUI(); });

  // Init
  updateUI();

  // Nodes click placeholder
  document.querySelectorAll(".node").forEach(n=>{
    n.addEventListener("click", (e)=>{
      e.stopPropagation();
      // console.log("Node:", n.dataset.node);
    });
  });
</script>

</body>
</html>
